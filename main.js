(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t=document.querySelector(".popup_type_image"),n=t.querySelector(".popup__image"),r=t.querySelector(".popup__image-title"),o=document.querySelector(".popup_type_addElement"),u=document.querySelector(".popup_type_editUser"),a=document.querySelectorAll(".popup");function i(e){e.classList.remove("popup_opened")}function l(e){e.classList.add("popup_opened")}document.addEventListener("keydown",(function(e){if("Escape"===e.key){var t=document.querySelector(".popup_opened");null!==t&&i(t)}}));var c,d=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))){r&&(t=r);var o=0,u=function(){};return{s:u,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(a);try{var s=function(){var e=c.value;e.addEventListener("click",(function(t){t.target===e&&i(e)})),e.querySelector(".popup__close").addEventListener("click",(function(){i(e)}))};for(d.s();!(c=d.n()).done;)s()}catch(e){d.e(e)}finally{d.f()}var p=document.querySelector(".card-template").content.querySelector(".elements__card"),f=document.querySelector(".elements__list");function m(e){var o=p.cloneNode(!0);o.querySelector(".elements__title").textContent=e.name;var u=o.querySelector(".elements__image");u.src=e.link,u.alt=e.name,o.querySelector(".elements__trash-button").addEventListener("click",(function(){o.remove()}));var a=o.querySelector(".elements__like-button");return a.addEventListener("click",(function(){a.classList.toggle("elements__like-button_active")})),o.querySelector(".elements__image").addEventListener("click",(function(){var o,u;o=e.link,u=e.name,n.src=o,n.alt=u,r.textContent=u,l(t)})),o}function y(e){f.prepend(e)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,u=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw u}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=document.querySelector(".profile__name"),b=document.querySelector(".profile__about"),g=document.querySelector(".form__input_type_user-name"),h=document.querySelector(".form__input_type_about"),k=document.querySelector(".form__input_type_image-name"),q=document.querySelector(".form__input_type_image-link");document.querySelector(".profile__edit-button").addEventListener("click",(function(){g.value=S.textContent,h.value=b.textContent,l(u)})),document.querySelector(".popup_type_editUser .form").addEventListener("submit",(function(e){e.preventDefault(),S.textContent=g.value,b.textContent=h.value,i(u)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){k.value="",q.value="",l(o)})),document.querySelector(".popup_type_addElement .form").addEventListener("submit",(function(e){e.preventDefault(),y(m({name:k.value,link:q.value})),i(o)}));for(var E=0,A=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];E<A.length;E++)y(m(A[E]));!function(e){var t,n=v(document.querySelectorAll(e.formSelector));try{var r=function(){var n,r=t.value,o=r.querySelectorAll(e.inputSelector),u=r.querySelector(e.submitButtonSelector),a=v(o);try{var i=function(){var t=n.value,o="error-"+t.id,a=document.getElementById(o);t.addEventListener("input",(function(){t.validity.valid?(a.textContent="",t.classList.remove(e.inputErrorClass)):(a.textContent=t.validationMessage,t.classList.add(e.inputErrorClass)),r.checkValidity()?u.removeAttribute("disabled",""):u.setAttribute("disabled","")}))};for(a.s();!(n=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}({formSelector:".popup .form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inputErrorClass:"form__input-red"})})();